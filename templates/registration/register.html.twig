<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Inscription</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ asset('assets/css/style1.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/style2.css') }}">
</head>
<body>

<div class="form-container">
    <h1>Créer un compte</h1>

    {% for message in app.flashes('success') %}
        <div class="alert alert-success">
            {{ message }}
        </div>
    {% endfor %}

    {% for message in app.flashes('error') %}
        <div class="alert alert-danger">
            {{ message }}
        </div>
    {% endfor %}

    {{ form_start(registrationForm) }}

    <div>
        {{ form_label(registrationForm.email, 'Adresse Email *') }}
        {{ form_widget(registrationForm.email) }}
        {% for error in registrationForm.email.vars.errors %}
            <p class="error-message">{{ error.message }}</p>
        {% endfor %}
    </div>

    <div>
        {{ form_label(registrationForm.plainPassword.first, 'Mot de passe *') }}
        {{ form_widget(registrationForm.plainPassword.first) }}
        {% for error in registrationForm.plainPassword.first.vars.errors %}
            <p class="error-message">{{ error.message }}</p>
        {% endfor %}
    </div>

    <div>
        {{ form_label(registrationForm.plainPassword.second, 'Confirmez le mot de passe *') }}
        {{ form_widget(registrationForm.plainPassword.second) }}
        {% for error in registrationForm.plainPassword.second.vars.errors %}
            <p class="error-message">{{ error.message }}</p>
        {% endfor %}
    </div>

    <div>
        {{ form_label(registrationForm.nom, 'Nom *') }}
        {{ form_widget(registrationForm.nom) }}
        {% for error in registrationForm.nom.vars.errors %}
            <p class="error-message">{{ error.message }}</p>
        {% endfor %}
    </div>

    <div>
        {{ form_label(registrationForm.prenom, 'Prénom *') }}
        {{ form_widget(registrationForm.prenom) }}
        {% for error in registrationForm.prenom.vars.errors %}
            <p class="error-message">{{ error.message }}</p>
        {% endfor %}
    </div>

    <div>
        {{ form_label(registrationForm.telephone, 'Téléphone') }}
        {{ form_widget(registrationForm.telephone) }}
        {% for error in registrationForm.telephone.vars.errors %}
            <p class="error-message">{{ error.message }}</p>
        {% endfor %}
    </div>

    <div>
        {{ form_label(registrationForm.adresse, 'Adresse') }}
        {{ form_widget(registrationForm.adresse) }}
        {% for error in registrationForm.adresse.vars.errors %}
            <p class="error-message">{{ error.message }}</p>
        {% endfor %}
    </div>

    <div>
        <p class="terms-text">
            En cochant cette case, vous acceptez les conditions d'utilisation de Prékar. Ces conditions incluent :
            l'obligation de fournir des informations exactes lors de l'inscription ; l'acceptation des règles de location,
            notamment le respect des délais de retour des véhicules, le paiement des frais de location et des éventuelles
            pénalités en cas de retard ou de dommages ; l'interdiction d'utiliser les véhicules à des fins illégales ou
            dangereuses ; la responsabilité de maintenir le véhicule en bon état pendant la période de location ;
            l'acceptation des politiques de confidentialité concernant la collecte et l'utilisation de vos données
            personnelles pour la gestion de votre compte et des réservations ; ainsi que les conditions d'annulation et
            de remboursement définies sur notre site. Pour plus de détails, veuillez consulter la page complète des
            <a href="{{ path('conditions_utilisation') }}">conditions d'utilisation</a>.
        </p>
        {{ form_widget(registrationForm.agreeTerms) }}
        {{ form_label(registrationForm.agreeTerms, 'J\'accepte les conditions d\'utilisation *') }}
        {% for error in registrationForm.agreeTerms.vars.errors %}
            <p class="error-message">{{ error.message }}</p>
        {% endfor %}
    </div>

    <button type="submit">S'inscrire</button>

    {{ form_end(registrationForm) }}

    <p>Déjà un compte ? <a href="{{ path('app_login') }}">Se connecter</a></p>

    <a href="{{ path('homepage') }}" class="btn-retour">Retour</a>
</div>

<style>
    .error-message {
        color: red;
        font-size: 14px;
        margin-top: 5px;
    }

    .btn-retour {
        display: inline-block !important;
        margin-top: 15px !important;
        padding: 10px 15px !important;
        background: linear-gradient(135deg, #667eea, #764ba2) !important;
        color: white !important;
        text-decoration: none !important;
        border-radius: 5px !important;
        font-weight: bold !important;
        text-decoration: none !important;
    }
    .btn-retour:hover {
        background: linear-gradient(135deg, #556cd6, #5a3d91) !important;
        color: white !important;
        text-decoration: none !important;
    }

    .terms-text {
        font-size: 14px;
        color: #555;
        text-align: left;
        margin-bottom: 10px;
        line-height: 1.5;
    }
    .terms-text a {
        color: #667eea;
        text-decoration: underline;
    }
    .terms-text a:hover {
        color: #556cd6;
    }
</style>

</body>
</html>